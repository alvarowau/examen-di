<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="Informe_AlbaranCliente" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="a009aca0-a1b4-4ab9-bdff-f6a244e03d34">
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="479"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="521"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="database_jardineria"/>
	<query language="sql"><![CDATA[select concat(nombre, " ", apellido1, " ", apellido2) as Empleado, F2.nombre_cliente as Cliente, count(F3.codigo_pedido) as Pedidos, sum(F4.cantidad * F4.precio_unidad) as Coste   from empleado F1, cliente F2, pedido F3, detalle_pedido F4 where F1.codigo_empleado=F2.codigo_empleado_rep_ventas and F2.codigo_cliente=F3.codigo_cliente and F3.codigo_pedido=F4.codigo_pedido group by Empleado, Cliente ;]]></query>
	<field name="Empleado" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="Empleado"/>
		<property name="com.jaspersoft.studio.field.label" value="Empleado"/>
	</field>
	<field name="Cliente" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nombre_cliente"/>
		<property name="com.jaspersoft.studio.field.label" value="Cliente"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="cliente"/>
	</field>
	<field name="Pedidos" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="Pedidos"/>
		<property name="com.jaspersoft.studio.field.label" value="Pedidos"/>
	</field>
	<field name="Coste" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="Coste"/>
		<property name="com.jaspersoft.studio.field.label" value="Coste"/>
	</field>
	<variable name="numeroLinea" class="java.lang.String"/>
	<variable name="TotalPedidos" resetType="Group" calculation="Sum" resetGroup="Datos_Group" class="java.lang.Integer">
		<expression><![CDATA[$F{Pedidos}]]></expression>
	</variable>
	<variable name="TotalCoste" resetType="Group" calculation="Sum" resetGroup="Datos_Group" class="java.lang.Double">
		<expression><![CDATA[$F{Coste}]]></expression>
	</variable>
	<group name="Datos_Group">
		<expression><![CDATA[$F{Empleado}]]></expression>
		<groupHeader>
			<band height="90">
				<element kind="textField" uuid="7e9ced29-047f-4e1e-a39a-57cd3ab088e2" x="4" y="10" width="180" height="20" forecolor="#FC221E" fontSize="11.0" bold="true">
					<expression><![CDATA["Empleado: "+$F{Empleado}]]></expression>
				</element>
				<element kind="staticText" uuid="a7d0444e-761a-4a6b-a7a3-c80a028294a4" x="4" y="40" width="170" height="20" fontSize="14.0" bold="true">
					<text><![CDATA[Información de clientes:]]></text>
				</element>
				<element kind="staticText" uuid="d501394d-26a6-4637-9151-1447977a96dc" x="10" y="70" width="60" height="20" fontSize="12.0" bold="true">
					<text><![CDATA[Nº]]></text>
				</element>
				<element kind="staticText" uuid="69f98c3d-fb7a-48eb-8b41-b2053dd4feb1" x="100" y="70" width="130" height="20" fontSize="12.0" bold="true">
					<text><![CDATA[Cliente]]></text>
				</element>
				<element kind="staticText" uuid="43c50263-777a-440f-989d-50e3f1a1bc08" x="360" y="70" width="70" height="20" fontSize="12.0" bold="true">
					<text><![CDATA[Pedidos]]></text>
				</element>
				<element kind="staticText" uuid="bc5bcab9-f109-4bde-b7c1-23044b6053cc" x="480" y="70" width="66" height="20" fontSize="12.0" bold="true">
					<text><![CDATA[Total (€)]]></text>
				</element>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="20">
				<element kind="textField" uuid="6a024ad8-9c3b-4449-8514-994006f84482" x="4" y="0" width="541" height="19" fontSize="12.0" bold="true" hTextAlign="Center">
					<expression><![CDATA["numero de pedidos: "+$V{TotalPedidos} +" Precio total: "+$V{TotalCoste} + " €"]]></expression>
				</element>
				<element kind="line" uuid="37f575bb-40d7-4470-9557-e36368b69343" x="1" y="19" width="552" height="1" direction="BottomUp"/>
			</band>
		</groupFooter>
	</group>
	<group name="Clientes_Group">
		<expression><![CDATA[$F{Cliente}]]></expression>
		<groupHeader>
			<band height="20" splitType="Immediate">
				<element kind="textField" uuid="f20053ba-dcb2-4570-9b58-8f7f2351262f" x="100" y="0" width="130" height="20" fontSize="12.0" bold="false">
					<expression><![CDATA[$F{Cliente}]]></expression>
				</element>
				<element kind="textField" uuid="e3d04165-bd66-4efc-9ebf-0796e34d3f3e" x="360" y="0" width="70" height="20" fontSize="12.0" bold="false" hTextAlign="Left">
					<expression><![CDATA[$F{Pedidos}]]></expression>
				</element>
				<element kind="textField" uuid="e1b94f81-d811-4d92-ba21-96ec3e42a2c8" x="481" y="0" width="64" height="20" fontSize="12.0" bold="false" hTextAlign="Left">
					<expression><![CDATA[$F{Coste}]]></expression>
				</element>
				<element kind="textField" uuid="dd379c75-3d43-49ef-a373-cebc267618af" x="10" y="0" width="60" height="20" fontSize="12.0" bold="false">
					<expression><![CDATA[$V{Datos_Group_COUNT}+1]]></expression>
				</element>
			</band>
		</groupHeader>
	</group>
	<background splitType="Stretch"/>
	<title height="132">
		<element kind="image" uuid="d2d0afd4-93ea-4e38-a741-fa041d7162f1" x="9" y="12" width="100" height="100">
			<expression><![CDATA["https://content.gnoss.ws/crfp/imagenes/Documentos/imgsem/d1/d1f2/d1f20877-c357-46a6-8baf-f1dffbc34ba2/f6b3149b-d321-4f69-9de4-8eec0b8cf4d6.jpg"]]></expression>
		</element>
		<element kind="staticText" uuid="dbfcdecd-29cf-4558-82b6-8a74bdfa6517" x="120" y="32" width="400" height="40" fontSize="12.0" hTextAlign="Center">
			<text><![CDATA[Muestra los clientes de un empleado, la cantidad de productos que han pedido y el coste total de estos.]]></text>
		</element>
		<element kind="textField" uuid="51748204-11f4-4eb4-b532-7abed59d355e" x="446" y="82" width="100" height="30" fontSize="9.0" pattern="MMMMM dd, yyyy" italic="true" hTextAlign="Right">
			<expression><![CDATA["Documento generado: "+new java.util.Date()]]></expression>
		</element>
	</title>
	<pageFooter height="20" splitType="Stretch">
		<element kind="textField" uuid="d0754905-08b7-4ce4-b455-e85825378e4b" x="280" y="0" width="100" height="20" forecolor="#4F4F4F" fontSize="14.0" evaluationTime="Report" hTextAlign="Left">
			<expression><![CDATA[" de " + $V{PAGE_NUMBER}]]></expression>
		</element>
		<element kind="textField" uuid="436b79c4-26c8-4720-9da4-5084f71bffd2" x="180" y="0" width="100" height="20" forecolor="#4F4F4F" fontSize="14.0" hTextAlign="Right">
			<expression><![CDATA["Página " + $V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
</jasperReport>
